---
title:  "[ë°±ì¤€ 2146][ğŸ’›3] ë‹¤ë¦¬ ë§Œë“¤ê¸° (BFS)" 

categories:
  - BOJ
tags:
  - [PS, Algorithm, Coding Test, Python]

toc: true
toc_sticky: true

date: 2021-10-31
last_modified_at: 2021-10-31
---

## ë¬¸ì œ
**ë°±ì¤€ 2146 (ë‹¤ë¦¬ ë§Œë“¤ê¸°)**
## ë‚œì´ë„
- **ê³¨ë“œ 3**
## ìœ í˜•
- **BFS**


![](https://images.velog.io/images/junbangg/post/ae2bb195-0d0c-4d66-bccf-1fb07bb645b5/Screen%20Shot%202021-10-31%20at%2012.44.50%20PM.png)

**ê°€ëŠ¥í•œ ê°€ì¥ ì§§ì€ ë‹¤ë¦¬ë¥¼ ë†“ì•„ì„œ ë‘ê°œì˜ ì„¬/ìœ¡ì§€ë¥¼ ì—°ê²° í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì°¾ëŠ” ë¬¸ì œì´ë‹¤**

## ì ‘ê·¼ë²•:

ë‚´ê°€ ë¬¸ì œë¥¼ ì ‘ê·¼í•œ ê³¼ì •ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.

1. **ê° ì„¬ì„ ìƒ‰ì¹ í•˜ì.** 
	- ë•…ì„ ì˜ë¯¸í•˜ëŠ” "1" ëŒ€ì‹ ì— ê° ë•…ë©ì–´ë¦¬ì— ê³ ìœ  ì‹ë³„ìë¥¼ ì •í•´ì„œ ì €ì¥í•œë‹¤.
    - ê·¸ëŸ¼ ì²«ë²ˆì§¸ ë•…ë©ì–´ë¦¬ëŠ” ì „ë¶€ 1, ë‘ë²ˆì§¸ëŠ” 2, ì„¸ë²ˆì§¸ëŠ” 3..ì´ëŸ°ì‹ìœ¼ë¡œ ì‹ë³„ì´ ê°€ëŠ¥í•´ì§„ë‹¤.
    - ì´ë ‡ê²Œ í•´ì£¼ëŠ” ì´ìœ ëŠ”, `ë•…ë©ì–´ë¦¬->ë‹¤ë¥¸ ë•…ë©ì–´ë¦¬` ì— ë‹¤ë¦¬ë¥¼ ë§Œë“œëŠ” ê²½ë¡œë¥¼ `BFS`ë¡œ íƒìƒ‰í• ê±´ë°,
    **í•˜ë‚˜ì˜ ë•…ë©ì–´ë¦¬ì—ì„œ íƒìƒ‰ì„ ì‹œì‘í•´ì„œ, ë‹¤ì‹œ ìê¸° ìì‹ í•œí…Œ ì˜¤ëŠ” ê²½ë¡œë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•¨ì´ë‹¤.**
    - ì¦‰, ì´ì–´ì§„ ë‘ê°œì˜ ë•…ë©ì–´ë¦¬ì˜ ì‹ë³„ìê°€ ë‹¬ë¼ì•¼ë§Œ ìœ íš¨í•œ ë‹¤ë¦¬ë¡œ ê°„ì£¼í•˜ëŠ” ë…¼ë¦¬ì´ë‹¤.
2. **ê° ì„¬ì˜ ê°€ì¥ ê°€ì¥ìë¦¬ì— ìˆëŠ” ë•…ì„ ì €ì¥í•˜ë‹¤**
	- ê° ì„¬ì˜ ê°€ì¥ìë¦¬ ë•…ì—ì„œ `BFS` ë¥¼ ì „ë¶€ í•œë²ˆì”© ëŒë ¤ì„œ, ìµœì†Œ ë‹¤ë¦¬ë¥¼ ì°¾ì„ê²ƒì´ë‹¤.

## ì½”ë“œ
```python
import sys, collections
N = int(input())
board = [input().split() for _ in range(N)]

dx = [1, -1, 0, 0]
dy = [0, 0, 1, -1]
edges = collections.defaultdict(set)

def markIslands(src_x, src_y, marker):
    visited = [[False] * N for _ in range(N)]
    visited[src_x][src_y] = True
    board[src_x][src_y] = marker
    q = collections.deque()
    q.append([src_x, src_y])
    while q:
        cur_x, cur_y = q.popleft()
        for i in range(4):
            nx, ny = cur_x + dx[i], cur_y + dy[i]
            if 0 <= nx < N and 0 <= ny < N and not visited[nx][ny]:
                if board[nx][ny] == '0':
                    edges[marker].add((cur_x, cur_y))
                else:
                    board[nx][ny] = marker
                    visited[nx][ny] = True
                    q.append([nx, ny])

# island í‘œì‹œ
visited = [[False] * N for _ in range(N)]
marker = 1
for x in range(N):
    for y in range(N):
        if board[x][y] == '1':
            markIslands(x,y,marker) 
            marker += 1

# ë‹¤ë¦¬ íƒìƒ‰
def bfs(src_x, src_y, islandNum):
    visited = [[False] * N for _ in range(N)]
    visited[src_x][src_y] = True
    q = collections.deque()
    q.append([src_x, src_y, 0])
    while q:
        cur_x, cur_y, bridgeLength = q.popleft()
        for i in range(4):
            nx, ny = cur_x + dx[i], cur_y + dy[i]
            if 0 <= nx < N and 0 <= ny < N and not visited[nx][ny]:
                visited[nx][ny] = True
                if board[nx][ny] != '0' and board[nx][ny] != islandNum:
                    return bridgeLength
                else:
                    q.append([nx, ny, bridgeLength + 1])

test = collections.defaultdict(list)
answer = float('inf')
for islandNum in edges:
    for x, y in edges[islandNum]:
        answer = min(answer, bfs(x, y, islandNum))
print(answer)


```

## í›„ê¸°
ì ‘ê·¼ ë°©ë²•ì€ ë°”ë¡œ ë– ì˜¬ëê³  êµ¬í˜„ë„ ê½¤ ë¹ ë¥´ê²Œ í–ˆì—ˆëŠ”ë°,
`visited[src_x][src_y]` ë¥¼ `visited[src_y][src_y]`
ë¡œ í•´ì„œ í‹€ë¦¬ê³ 
ì„¬ì„ ìƒ‰ì¹ í•˜ëŠ”ê±¸ ì²˜ìŒì— `DFS` ë¡œ í–ˆì—ˆëŠ”ë°, `recursion error`  ì´ ë°œìƒí–ˆë‹¤.
ì„¬ì„ ìƒ‰ì¹ í•˜ëŠ”ê²ƒë„ `BFS` ë¡œ í•´ì•¼ í†µê³¼ê°€ ëœë‹¤.

## ë°°ìš´ì 
`BFS` ë¡œ ë‹¤ë¦¬ ê²½ë¡œ íƒìƒ‰ì„ í• ë•Œ, ì²˜ìŒì—ëŠ” ìµœì†Œ ë‹¤ë¦¬ë¥¼ `BFS` ì•ˆì—ì„œë„ ê¸°ë¡í•˜ê³  ë¦¬í„´í•´ì•¼ë˜ëŠ”ê±¸ë¡œ ì°©ê°í–ˆì—ˆë‹¤. 
ê·¼ë° ìƒê°í•´ë³´ë‹ˆê¹Œ, `ë„ˆë¹„ìš°ì„ íƒìƒ‰` ì˜ ì›ë¦¬ëŠ” ê°€ì¥ ê·¼ì ‘í•œ ê³³ë¶€í„° íƒìƒ‰ì„ í•˜ê¸° ë•Œë¬¸ì—, ë¨¼ì € ë‹¤ë¥¸ ë•…ì— ë‹¿ëŠ” ê²½ë¡œê°€ ìµœì†Œê°€ ë˜ëŠ”ê²ƒì´ë¼ êµ³ì´ `min_bridge = min(min_bridge, bridge)` ë¡œ ìµœì†Œ ë‹¤ë¦¬ë¥¼ ê¸°ë¡í•  í•„ìš”ê°€ ì—†ë‹¤.



[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}