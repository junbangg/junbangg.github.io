---
title:  "[ë°±ì¤€ 2668][ğŸ’›ê³¨ë“œ 5]  (dfs)" 

categories:
  - BOJ
tags:
  - [Algorithm, Coding Test, Python, BOJ]

toc: true
toc_sticky: true

date: 2021-12-04
last_modified_at: 2021-12-04
---

## ğŸ§â€â™‚ï¸ ë‚œì´ë„ 

> ğŸ’› ê³¨ë“œ 5

<br>

## ğŸ§â€â™‚ï¸ ë¬¸ì œ
**ìˆ«ì ê³ ë¥´ê¸°**
> <https://www.acmicpc.net/problem/2668>

## ğŸ§â€â™‚ï¸ ìœ í˜•
> dfs

<br>

## ğŸ§â€â™‚ï¸ ë‚´ í’€ì´

ì²«ì§¸ ì¤„ì˜ ìˆ«ìë“¤ì€ index, ë‘ë²ˆì§¸ ì¤„ ìˆ«ìë“¤ì€ value ë¼ê³  ìƒê°í•˜ê³  í’€ì—ˆë‹¤. ê·¸ë˜ì„œ `dfs`ì„ ì´ìš©í•´ì„œ `index` -> `value` ë¡œ ë¹„êµë¥¼ í•˜ê³ , ê·¸ ë‹¤ìŒ `dfs` ì—ëŠ” `index` ìë¦¬ì— `value`ë¥¼ ë„£ìœ¼ë©´ì„œ íƒìƒ‰ì„ í•œë‹¤.
ë¬¸ì œë¥¼ í’€ì–´ë³´ê³ ë‚˜ë‹ˆê¹Œ ì´ê²Œ ê·¸ëƒ¥ ì‚¬ì´í´ì„ ì°¾ëŠ” ë¬¸ì œì˜€ë˜ê²ƒ ê°™ë‹¤.
ì—­ì‹œ ë‹¤ë¥¸ ì‚¬ëŒì˜ í’€ì´ë¥¼ ê²€ìƒ‰í•´ë³´ë‹ˆê¹Œ ê·¸ë˜í”„ì—ì„œ ì‚¬ì´í´ì„ ì°¾ëŠ” ë°©ë²•ìœ¼ë¡œ í’€ì—ˆë‹¤. ê·¸ëƒ¥ `visited`ìœ¼ë¡œ ë°©ë¬¸ ë…¸ë“œë¥¼ ì²´í¬í•˜ë©´ì„œ, ì´ë¯¸ ë°©ë¬¸í–ˆë˜ ë…¸ë“œë¥¼ ë°©ë¬¸í•˜ë©´ ì‚¬ì´í´ì´ ì¼ì–´ë‚œê²ƒìœ¼ë¡œ ìƒê°í•˜ê³  í‘¸ëŠ” ë°©ë²•ë„ ìˆëŠ”ê²ƒ ê°™ë‹¤.

ì•„ ê·¸ë¦¬ê³  `set`ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì´ìœ ëŠ”, ì–´ì°¨í”¼ ì²«ì§¸ì¤„ì€ ê³ ìœ í•œ ìˆ«ìë“¤ì´ê³  ì¤‘ë³µì´ ì¼ì–´ë‚  ì¼ì´ ì—†ì–´ì„œ, ê·¸ëƒ¥ `set` ìœ¼ë¡œ í™•ì¸ì´ ê°€ëŠ¥í•˜ë‹¤.

***

## ğŸ§â€â™‚ï¸ íŒŒì´ì¬ í’€ì´
```python
import sys
input = sys.stdin.readline

N = int(input())
values = [0]
for _ in range(N):
    values.append(int(input()))
answer = set()

def dfs(index, first, second):
    first.add(index)
    second.add(values[index])
    if arr[index] in first:
        if first == second:
            answer.update(first)
        return
    return dfs(values[index], first, second)

for i in range(1, N+1):
    if i not in answer:
        dfs(i, set(), set())

print(len(answer))
for num in sorted(list(answer)):
    print(num)
```

## ğŸ§â€â™‚ï¸ ë‹¤ë¥¸ ì‚¬ëŒ íŒŒì´ì¬ í’€ì´
<https://cotak.tistory.com/141>
ì‚¬ì´í´ í’€ì´ë²•
```python
import sys, collections
sys.setrecursionlimit(10**6)
input = sys.stdin.readline

N = int(input().rstrip())
graph = collections.defaultdict(list)
for i in range(1, N+1):
    graph[int(input().rstrip())].append(i)

def dfs(index, visited):
    visited.add(index)
    checked[index] = 1
    for v in graph[index]:
        if v in visited:
            result.extend(list(visited))
            return
        else:
            dfs(v, visited.copy())

checked = [0 for _ in range(N+1)]
result = []
for i in range(1, N+1):
    if not checked[i]:
        dfs(i, set([]))

result.sort()
print(len(result))
for num in result:
    print(num)
```


<br>

[ë§¨ ìœ„ë¡œ ì´ë™í•˜ê¸°](#){: .btn .btn--primary }{: .align-right}